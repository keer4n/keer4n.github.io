<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Notification Daemon Dunst</title>
<meta name="generator" content="Org Mode" />

<link rel="stylesheet" href="/css/htmlize.css" />
<link rel="stylesheet" href="/css/main.css" />
<link rel="stylesheet" href="/css/main-light.css" />
<link rel="stylesheet" href="/css/style.css" />
<script src="/js/index.js" defer></script>
</head>
<body>
<div id="preamble" class="status">
<nav class="menu"><ul><li>keer4n</li> <li><a href="/">/</a></li> <li><a href="/demos">/demos</a></li> <li><a href="/links.html">/links</a></li></ul></nav><div id="updated"> Updated: 2023-11-04 Sat 22:41</div>
</div>
<div id="content" class="content">
<header>
<h1 class="title">Notification Daemon Dunst</h1>
</header>
<div id="outline-container-org48d55a9" class="outline-2">
<h2 id="org48d55a9">Configuring notification daemon - dunst</h2>
<div class="outline-text-2" id="text-org48d55a9">
<p>
The goal is to configure `dunst` which describes itself as a lightweight notification daemon on i3-wm. You can get dunst from the community repository. Install it by:
</p>

<div class="org-src-container">
<pre class="src src-sh">pacman -S dunst
</pre>
</div>

<p>
You should add it to the startup.
</p>

<p>
For i3 you can add <code>exec_always dunst</code> to your config file (<code>~/.config/i3/config</code>).
</p>

<p>
Next, a simple bash script where we will use the notification daemon to display a primitive ticking timer.
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter">#</span><span class="org-comment">!/bin/</span><span class="org-keyword">bash</span>

<span class="org-variable-name">i</span>=0
<span class="org-variable-name">limit</span>=$<span class="org-variable-name">1</span>
<span class="org-keyword">while </span><span class="org-builtin">true</span>; <span class="org-keyword">do</span>
  notify-send -h int:value:$<span class="org-variable-name">i</span> Timer
  sleep 1
  <span class="org-variable-name">i</span>=$[$<span class="org-variable-name">i</span>+1]
  <span class="org-keyword">if</span> [ $<span class="org-variable-name">i</span> -eq $<span class="org-variable-name">time</span> ]; <span class="org-keyword">then</span>
    <span class="org-keyword">exit</span>
  <span class="org-keyword">fi</span>
<span class="org-keyword">done</span>
</pre>
</div>

<p>
What this script will do is invoke <code>notify-send</code> with a <code>hint</code> value to dunst which handles this as progress value using <code>%p</code> or <code>%n</code> format specifier. To enable this, you need to change some configuration options in dunstrc file (<code>~/.config/dunst/dunstrc</code>).
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-variable-name">format</span> = <span class="org-string">"&lt;b&gt;%s %n&lt;/b&gt;\n%b"</span>

<span class="org-variable-name">stack_duplicates</span> = yes
<span class="org-variable-name">hide_duplicate_count</span> = yes
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd36ce02" class="outline-2">
<h2 id="orgd36ce02">Refs:</h2>
<div class="outline-text-2" id="text-orgd36ce02">
<ol class="org-ol">
<li><a href="https://dunst-project.org">Dunst project home</a></li>
<li><a href="https://superuser.com/questions/611538/is-there-a-way-to-display-a-countdown-or-stopwatch-timer-in-a-terminal">Way to display a countdown in a terminal</a></li>
</ol>
</div>
</div>
</div>
<div id="postamble" class="status">
<div><a href="https://github.com/keer4n">~</a></div><div> Generated by <a href="https://www.gnu.org/software/emacs/">Emacs</a> 29.1 (<a href="https://orgmode.org">Org</a> mode 9.6.6)</div>
</div>
</body>
</html>